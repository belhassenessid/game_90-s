var gamePattern=[],userClickedPattern=[],buttonColors=["red","blue","green","yellow"],level=-1,i=0,blue=new Audio("sounds/blue.mp3"),green=new Audio("sounds/green.mp3"),levelUp=new Audio("sounds/levelUp.mp3"),red=new Audio("sounds/red.mp3"),win=new Audio("sounds/win.mp3"),wrong=new Audio("sounds/wrong.mp3"),yellow=new Audio("sounds/yellow.mp3");function nextSequence(){if(level++,i=0,$("#level-title").text("Level "+level),level>=10)redirect();else{var e=Math.floor(4*Math.random());switch(gamePattern.push(buttonColors[e]),$("#"+buttonColors[e]).fadeOut(100).fadeIn(100).fadeOut(100).fadeIn(100),buttonColors[e]){case"red":red.play();break;case"green":green.play();break;case"blue":blue.play();break;case"yellow":yellow.play()}userClickedPattern=[],$(".count span").text(gamePattern.length)}}function playing(e){switch(userClickedPattern.push(e),e){case"red":red.play();break;case"green":green.play();break;case"blue":blue.play();break;case"yellow":yellow.play()}animatePress(e),checkAnswer()&&i==gamePattern.length-1&&(levelUp.play(),$("#level-title").fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200),setTimeout(function(){nextSequence()},1e3)),i++,$(".count span").text(gamePattern.length-i)}function checkAnswer(){return gamePattern[i]===userClickedPattern[i]||(end(gamePattern[i]),!1)}function end(e){switch($(".answer div").removeClass(),$(".answer div").addClass("btna "+e),e){case"red":$(".answer .num").text("9");break;case"green":$(".answer .num").text("7");break;case"blue":$(".answer .num").text("3");break;case"yellow":$(".answer .num").text("1")}wrong.play(),$("body").addClass("game-over").fadeOut(300).fadeIn(300).fadeOut(300).fadeIn(300),setTimeout(function(){$("body").removeClass("game-over"),$(".answer").fadeIn(1e3)},1500),level=-1,gamePattern=[],i=-1,$("#level-title").html("Oopss, Wrong Button ! </br> Press A to Restart")}function animatePress(e){$("#"+e).addClass("pressed"),$("#"+e+"1").addClass("pressed_key"),setTimeout(function(){$("#"+e).removeClass("pressed"),$("#"+e+"1").removeClass("pressed_key")},100)}function redirect(){$("#level-title").fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200),$(".container").fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200),win.play(),setTimeout(function(){window.location.replace("winning.html")},3e3)}$(document).keydown(function(e){if("a"!=e.key&&"A"!=e.key||0!=gamePattern.length){if(0!==gamePattern.length)switch(e.key){case"7":playing("green");break;case"9":playing("red");break;case"3":playing("blue");break;case"1":playing("yellow")}}else $(".answer").css("display","none"),$(".tips").fadeOut(1e3),setTimeout(function(){$(window).width()<=800&&$(".flex-cotainer").css("flex-direction","column-reverse"),$(".count").fadeIn(1e3),nextSequence()},1100)}),$(".btn").click(function(){playing(this.id)});
